=head1 NAME

EPrints::SystemSettings

=cut

######################################################################
#
# These are your system settings (as autogenerated by the installer).
# We suggest that you do not alter these, as future installers will
# probably override them.
# 
######################################################################

# This file should only be use'd by EPrints::Config
package EPrints::SystemSettings;

$EPrints::SystemSettings::conf = {
                                   'version' => 'EPrints 3.4',
                                   'version_id' => 'eprints-3.4',
                                   'base_path' => '/opt/eprints3',
                                   'show_ids_in_log' => 0,
                                   'group' => 'eprints',
                                   'version_history' => [
                                                          'eprints-3.2.3',
                                                          'eprints-3.3.6',
                                                          'eprints-3.3.9',
                                                          'eprints-3.3.10',
                                                          'eprints-3.3.12',
                                                          'eprints-3.3.13',
                                                          'eprints-3.3.14',
                                                          'eprints-3.3.15'
                                                        ],
                                   'smtp_server' => '127.0.0.1', # sensible default, but may not be valid
                                   'user' => 'eprints',
                                   'file_perms' => '0664',
                                   'invocation' => {},
                                   'executables' => {
                                                      'perl' => '/usr/bin/perl'
                                                    },
                                  'dir_perms' => '02775'
                                 };



my $flavour_cfg = $conf->{base_path}."/lib/flavour_cfg";
opendir(LIB, $flavour_cfg);
my @flavours = grep { $_ ne '.' && $_ ne '..' && $_ !~ m/^\./} readdir LIB;
closedir(LIB);
foreach my $flavour (@flavours){
    open my $handle, '<', "$flavour_cfg/$flavour";
    my $line = <$handle>;
    chomp $line;
    my @paths = split(";",$line);

    if (!exists $conf->{$flavour}) ##safty check.
    {
        $conf->{$flavour}=\@paths;
    }
}


1;

=head1 COPYRIGHT

=for COPYRIGHT BEGIN

Copyright 2016 University of Southampton.
EPrints 3.4 preview 1 is supplied by EPrints Services.
This software is supplied as is and is for demonstration purposes.
This software may be used with permission and must not be redistributed.
http://www.eprints.org/eprints-3.4/

=for COPYRIGHT END

=for LICENSE BEGIN

This file is part of EPrints 3.4 L<http://www.eprints.org/>.

EPrints 3.4 and this file are released under the terms of the
GNU Lesser General Public License version 3 as published by
the Free Software Foundation unless otherwise stated.

EPrints 3.4 is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
See the GNU Lesser General Public License for more details.

You should have received a copy of the GNU Lesser General Public
License along with EPrints 3.4.
If not, see L<http://www.gnu.org/licenses/>.

=for LICENSE END

